---
name: code-review
description: 代码审查工作流。检查代码质量、安全性、潜在 bug。当用户要求 review 或审查代码时使用。
tags: [dev, review]
---

# 代码审查

## 审查流程
1. 用 file_read 读取目标文件
2. 逐项检查以下维度：
   - **可读性**: 命名是否清晰、结构是否合理、注释是否充分
   - **正确性**: 逻辑错误、边界条件、错误处理是否完整
   - **安全性**: 注入风险、越权访问、敏感信息泄露
   - **性能**: 不必要的内存分配、O(n²) 循环、阻塞操作
3. 如果是 Rust 项目，用 shell 运行 `cargo clippy -- -W clippy::all`
4. 输出结构化报告

## 报告格式
对每个发现的问题输出：
- **文件:行号** — 位置
- **级别** — 🔴 严重 / 🟡 警告 / 🔵 建议
- **问题** — 简短描述
- **建议** — 修复方案或代码示例

最后给出总结：总问题数、按级别分布、整体评价（优秀/良好/需改进）。
